{% extends "base.html" %}

{% block title %}Rate Recipe - What's for Dinner{% endblock %}

{% block content %}
<div class="rate-page">
    <h1>Rate Recipe</h1>

    <div class="recipe-preview">
        <h2>{{ recommendation.recipe.title }}</h2>

        {% if recommendation.recipe.image_url %}
        <img src="{{ recommendation.recipe.image_url }}" alt="{{ recommendation.recipe.title }}" class="recipe-preview-image">
        {% endif %}

        <div class="recipe-meta">
            {% if recommendation.recipe.ready_in_minutes %}
            <span>‚è±Ô∏è {{ recommendation.recipe.ready_in_minutes }} min</span>
            {% endif %}
            {% if recommendation.recipe.cuisine_type %}
            <span>üåç {{ recommendation.recipe.cuisine_type }}</span>
            {% endif %}
            {% if recommendation.recipe.source_website %}
            <span>üìç {{ recommendation.recipe.source_website }}</span>
            {% endif %}
        </div>

        <p class="recipe-sent-date">Sent on {{ recommendation.sent_at.strftime('%B %d, %Y') }}</p>
    </div>

    <form method="post" class="rating-form">
        <div class="rating-section">
            <label for="rating">How would you rate this recipe?</label>

            <div class="star-rating">
                <input type="radio" name="rating" id="star5" value="5">
                <label for="star5" title="5 stars - Love it!">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</label>

                <input type="radio" name="rating" id="star4" value="4">
                <label for="star4" title="4 stars - Like it">‚≠ê‚≠ê‚≠ê‚≠ê</label>

                <input type="radio" name="rating" id="star3" value="3">
                <label for="star3" title="3 stars - Neutral">‚≠ê‚≠ê‚≠ê</label>

                <input type="radio" name="rating" id="star2" value="2">
                <label for="star2" title="2 stars - Dislike">‚≠ê‚≠ê</label>

                <input type="radio" name="rating" id="star1" value="1">
                <label for="star1" title="1 star - Avoid">‚≠ê</label>
            </div>

            <div class="rating-guide">
                <p><strong>Rating Guide:</strong></p>
                <ul>
                    <li>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5 stars): Love it! Show me more like this</li>
                    <li>‚≠ê‚≠ê‚≠ê‚≠ê (4 stars): Like it - good recipe</li>
                    <li>‚≠ê‚≠ê‚≠ê (3 stars): Neutral - it's okay</li>
                    <li>‚≠ê‚≠ê (2 stars): Dislike - not my preference</li>
                    <li>‚≠ê (1 star): Avoid - don't send recipes like this</li>
                </ul>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Submit Rating</button>
            <a href="{{ url_for('history') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>

    <div class="recipe-actions">
        <a href="{{ url_for('recipe_detail', recipe_id=recommendation.recipe.id) }}" class="btn btn-link">
            View Full Recipe ‚Üí
        </a>
    </div>
</div>
{% endblock %}
